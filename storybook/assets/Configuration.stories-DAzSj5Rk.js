import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./iframe-CVV_m-99.js";import{P as i}from"./index-Ceb0_L1H.js";import"./preload-helper-D9Z9MdNV.js";const k=({title:F="Azure OpenAI Configuration",subtitle:M="Configure your Azure OpenAI settings for the GenAI Business Rule Extraction",theme:q="light",onConfigChange:G=()=>{},onSave:_=()=>{},showTestConnection:J=!0,className:E="",initialConfig:I={},isModal:y=!1,onClose:D=()=>{},apiBaseUrl:b="http://localhost:8000",userId:d=null})=>{const[W,Y]=r.useState(!1),[o,f]=r.useState({azureKey:"",azureEndpoint:"",azureDeployment:"",azureApiVersion:"2024-02-15-preview"}),[u,H]=r.useState(null),[z,B]=r.useState(!1),[v,T]=r.useState(!1),[P,A]=r.useState(!0),[l,p]=r.useState(null),[L,x]=r.useState(!1),[S,X]=r.useState(!1),[h,Q]=r.useState("default"),[g,m]=r.useState(null),C=s=>{if(console.log("üîç getStorageKeys - Received userId:",s,"with type: ",typeof s),!s)return console.log("‚ö†Ô∏è getStorageKeys - No userId provided, using fallback keys"),{DEFAULT_CREDENTIALS:"azure_default_credentials",LAST_CUSTOM_CREDENTIALS:"azure_last_custom_credentials"};const n={DEFAULT_CREDENTIALS:`azure_default_credentials_${s}`,LAST_CUSTOM_CREDENTIALS:`azure_last_custom_credentials_${s}`};return console.log("üîç getStorageKeys - Generated keys:",n),n};r.useEffect(()=>{console.log("üîç useEffect - loadCurrentCredentials triggered with userId:",d),d&&Z()},[d,b]),r.useEffect(()=>{const s=setTimeout(()=>Y(!0),100);return()=>clearTimeout(s)},[]),r.useEffect(()=>{f(s=>({...s,...I}))},[I]);const Z=async()=>{if(console.log("üîç loadCurrentCredentials - Starting with userId:",d),!d){console.log("‚ö†Ô∏è loadCurrentCredentials - userId not available yet, skipping"),A(!1);return}A(!0);try{const s=await fetch(`${b}/api/config`);if(s.ok){const n=await s.json(),a={azureKey:n.azure_api_key,azureEndpoint:n.azure_endpoint,azureDeployment:n.azure_deployment,azureApiVersion:n.azure_api_version},c=C(d);console.log("üîç Using storage keys:",c);const j=localStorage.getItem(c.DEFAULT_CREDENTIALS);console.log("üîç Stored default from localStorage:",j),j||(console.log("üîç No stored default found, saving new credentials"),localStorage.setItem(c.DEFAULT_CREDENTIALS,JSON.stringify(a)));const K=JSON.parse(localStorage.getItem(c.DEFAULT_CREDENTIALS))||a;console.log("üîç Final default credentials:",K),H(K),f(a)}else console.error("Failed to load credentials")}catch(s){console.error("Error loading credentials:",s)}finally{A(!1)}},O=async s=>{try{const n={azure_api_key:s.azureKey,azure_endpoint:s.azureEndpoint,azure_deployment:s.azureDeployment,azure_api_version:s.azureApiVersion},a=await fetch(`${b}/api/config`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok)throw new Error("Failed to save credentials");return await a.json()}catch(n){throw console.error("Error saving credentials:",n),n}},V={light:{modalBg:"bg-white",containerBg:"bg-white",titleText:"text-gray-900",subtitleText:"text-gray-600",activeTabBg:"bg-blue-600",activeTabText:"text-white",inactiveTabBg:"bg-gray-200",inactiveTabText:"text-gray-700",labelText:"text-gray-700",inputBg:"bg-white",inputBorder:"border-gray-300",inputFocus:"focus:border-blue-500 focus:ring-blue-200",inputText:"text-gray-900",inputPlaceholder:"placeholder-gray-400",buttonPrimary:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-gray-200 hover:bg-gray-300 text-gray-700",buttonTest:"bg-gray-100 hover:bg-gray-200 text-gray-600 border border-gray-300",successText:"text-green-600",errorText:"text-red-600",successBg:"bg-green-50",errorBg:"bg-red-50",iconColor:"text-blue-600"},dark:{modalBg:"bg-gray-800",containerBg:"bg-gray-800",titleText:"text-white",subtitleText:"text-gray-300",activeTabBg:"bg-blue-500",activeTabText:"text-white",inactiveTabBg:"bg-gray-600",inactiveTabText:"text-gray-300",labelText:"text-gray-300",inputBg:"bg-gray-700",inputBorder:"border-gray-600",inputFocus:"focus:border-blue-400 focus:ring-blue-400/30",inputText:"text-white",inputPlaceholder:"placeholder-gray-400",buttonPrimary:"bg-blue-500 hover:bg-blue-600 text-white",buttonSecondary:"bg-gray-600 hover:bg-gray-500 text-gray-200",buttonTest:"bg-gray-600 hover:bg-gray-500 text-gray-300 border border-gray-500",successText:"text-green-400",errorText:"text-red-400",successBg:"bg-green-900/30",errorBg:"bg-red-900/30",iconColor:"text-blue-400"}},t=V[q]||V.light,$=()=>o.azureKey?.trim()&&o.azureEndpoint?.trim()&&o.azureDeployment?.trim()&&o.azureApiVersion?.trim(),N=(s,n)=>{const a={...o,[s]:n};f(a),x(!1),p(null),m(null),G(a)},ee=async()=>{console.log("üîç handleSave - userId:",d,"activeTab:",h),T(!0),m(null);try{if(await O(o),h==="own"){const s=C(d);console.log("üîç Saving custom credentials with keys:",s),localStorage.setItem(s.LAST_CUSTOM_CREDENTIALS,JSON.stringify(o)),console.log("üîç Saved custom credentials to:",s.LAST_CUSTOM_CREDENTIALS)}m({success:!0,message:"Configuration saved successfully!"}),p(null),await _(o)}catch(s){console.error("Save failed:",s),m({success:!1,message:"Failed to save configuration. Please try again."})}finally{T(!1)}},te=async()=>{B(!0),p(null),m(null),x(!1);try{if(!o.azureKey||!o.azureEndpoint||!o.azureDeployment||!o.azureApiVersion){p({success:!1,message:"Please fill all required fields before testing connection."});return}const s={azure_api_key:o.azureKey,azure_endpoint:o.azureEndpoint,azure_deployment:o.azureDeployment,azure_api_version:o.azureApiVersion};console.log("üîå Testing Azure OpenAI connection...");const n=await fetch(`${b}/api/config/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),a=await n.json();if(n.ok&&a.success)p({success:!0,message:a.message,details:a.model_info}),x(!0),console.log("‚úÖ Connection test successful:",a);else{let c=a.message||"Connection test failed";const j=c.replace(/^[‚ùå‚ö†Ô∏è‚è±Ô∏èüåêüö´]\s*/,"");switch(a.error_type){case"authentication_error":c="Invalid API Key. Please check your Azure OpenAI API key.";break;case"deployment_error":c="Deployment not found. Please verify your deployment name and endpoint.";break;case"rate_limit_error":c="Rate limit exceeded. Your credentials are valid but quota is exhausted.";break;case"timeout_error":c="Connection timeout. Please check your endpoint URL and network.";break;case"network_error":c="Network error. Please verify your endpoint URL.";break;default:c=j||"Connection failed. Please check your credentials."}p({success:!1,message:c,statusCode:a.status_code}),console.error("‚ùå Connection test failed:",a)}}catch(s){console.error("‚ùå Test connection error:",s),p({success:!1,message:"Network error occurred. Please check your internet connection and try again."}),x(!1)}finally{B(!1)}},se=async()=>{console.log("üîç handleUseDefaultAndContinue - userId:",d),T(!0),m(null);try{if(u){await O(u),f(u);const s=C(d);console.log("üîç Updating default credentials with keys:",s),localStorage.setItem(s.DEFAULT_CREDENTIALS,JSON.stringify(u)),m({success:!0,message:"Default configuration restored and saved!"}),p(null),await _(u),y&&D()}}catch(s){console.error("Failed to restore default configuration:",s),m({success:!1,message:"Failed to restore default configuration."})}finally{T(!1)}},ne=s=>{if(console.log("üîç handleTabChange - tabId:",s,"userId:",d),Q(s),m(null),p(null),x(!1),s==="default"&&u)console.log("üîç Loading default credentials"),f(u);else if(s==="own"){const n=C(d);console.log("üîç Looking for custom credentials with keys:",n);const a=localStorage.getItem(n.LAST_CUSTOM_CREDENTIALS);console.log("üîç Found custom credentials:",a),a?(console.log("üîç Loading saved custom credentials"),f(JSON.parse(a))):(console.log("üîç No custom credentials found, starting with empty fields"),f({azureKey:"",azureEndpoint:"",azureDeployment:"",azureApiVersion:"2024-02-15-preview"}))}},ae=(s,n=4)=>s?s.length<=n?"‚Ä¢".repeat(s.length):"‚Ä¢".repeat(s.length-n)+s.slice(-n):"",oe=[{id:"default",label:"Default",icon:"üîí"},{id:"own",label:"Own Credentials",icon:"üîë"}],re=()=>e.jsx("div",{className:"flex rounded-lg p-1 mb-6 gap-1",children:oe.map(s=>e.jsxs("button",{onClick:()=>ne(s.id),className:`flex items-center px-4 py-3 rounded-md text-sm font-medium transition-all duration-200 ${h===s.id?`${t.activeTabBg} ${t.activeTabText} shadow-sm`:`${t.inactiveTabBg} ${t.inactiveTabText} hover:bg-gray-300`}`,children:[e.jsx("span",{className:"mr-2 text-base",children:s.icon}),s.label]},s.id))}),ie=()=>h!=="default"?null:P?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:`text-sm ${t.subtitleText}`,children:"Loading credentials..."})]})}):e.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:`block text-sm font-medium ${t.labelText}`,children:"Azure Key"}),e.jsx("input",{type:"text",value:u?ae(u.azureKey):"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢1234",disabled:!0,className:`w-full px-3 py-2 rounded-md text-sm ${t.inputBg} ${t.inputBorder} ${t.inputText} border disabled:opacity-60 disabled:cursor-not-allowed`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:`block text-sm font-medium ${t.labelText}`,children:"Azure Endpoint"}),e.jsx("input",{type:"text",value:u?.azureEndpoint||"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢.azure.com",disabled:!0,className:`w-full px-3 py-2 rounded-md text-sm ${t.inputBg} ${t.inputBorder} ${t.inputText} border disabled:opacity-60 disabled:cursor-not-allowed`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:`block text-sm font-medium ${t.labelText}`,children:"Azure Deployment"}),e.jsx("input",{type:"text",value:u?.azureDeployment||"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢ment",disabled:!0,className:`w-full px-3 py-2 rounded-md text-sm ${t.inputBg} ${t.inputBorder} ${t.inputText} border disabled:opacity-60 disabled:cursor-not-allowed`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:`block text-sm font-medium ${t.labelText}`,children:"Azure API Version"}),e.jsx("input",{type:"text",value:u?.azureApiVersion||"2024-02-15-preview",disabled:!0,className:`w-full px-3 py-2 rounded-md text-sm ${t.inputBg} ${t.inputBorder} ${t.inputText} border disabled:opacity-60 disabled:cursor-not-allowed`})]})]}),g&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-md text-sm font-medium ${g.success?`${t.successBg} ${t.successText}`:`${t.errorBg} ${t.errorText}`}`,children:[e.jsx("span",{className:"text-base",children:g.success?"‚úÖ":"‚ùå"}),e.jsx("span",{children:g.message})]})})]}),e.jsx("div",{className:"pt-6",children:e.jsxs("button",{onClick:se,disabled:v,className:`w-full px-4 py-3 rounded-md text-sm font-medium transition-all duration-200 ${t.buttonPrimary} hover:shadow-md flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx("span",{className:"mr-2 text-base",children:"üöÄ"}),v?"Restoring...":"Use Default and Continue"]})})]}),le=()=>h!=="own"?null:e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:`flex items-center text-sm font-medium ${t.labelText}`,children:["Azure API Key",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:S?"text":"password",value:o.azureKey||"",onChange:s=>N("azureKey",s.target.value),placeholder:"Enter your Azure OpenAI API key",className:`w-full px-3 py-2 pr-10 rounded-md text-sm border ${t.inputBg} ${t.inputBorder} ${t.inputText} ${t.inputPlaceholder} ${t.inputFocus} transition-all duration-200`}),e.jsx("button",{type:"button",onClick:()=>X(!S),className:`absolute right-2 top-1/2 transform -translate-y-1/2 text-sm ${t.iconColor} hover:opacity-70 transition-opacity`,children:S?"üëÅÔ∏è":"üôà"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:`flex items-center text-sm font-medium ${t.labelText}`,children:["Azure Endpoint",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"url",value:o.azureEndpoint||"",onChange:s=>N("azureEndpoint",s.target.value),placeholder:"https://your-resource.openai.azure.com",className:`w-full px-3 py-2 rounded-md text-sm border ${t.inputBg} ${t.inputBorder} ${t.inputText} ${t.inputPlaceholder} ${t.inputFocus} transition-all duration-200`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:`flex items-center text-sm font-medium ${t.labelText}`,children:["Deployment Name",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",value:o.azureDeployment||"",onChange:s=>N("azureDeployment",s.target.value),placeholder:"gpt-4",className:`w-full px-3 py-2 rounded-md text-sm border ${t.inputBg} ${t.inputBorder} ${t.inputText} ${t.inputPlaceholder} ${t.inputFocus} transition-all duration-200`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:`flex items-center text-sm font-medium ${t.labelText}`,children:["API Version",e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("input",{type:"text",value:o.azureApiVersion||"2024-02-15-preview",onChange:s=>N("azureApiVersion",s.target.value),placeholder:"2024-02-15-preview",className:`w-full px-3 py-2 rounded-md text-sm border ${t.inputBg} ${t.inputBorder} ${t.inputText} ${t.inputPlaceholder} ${t.inputFocus} transition-all duration-200`})]})]}),l&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:`flex flex-col space-y-2 px-4 py-3 rounded-md text-sm font-medium ${l.success?`${t.successBg} ${t.successText}`:`${t.errorBg} ${t.errorText}`}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-base",children:l.success?"‚úÖ":"‚ùå"}),e.jsx("span",{children:l.message})]}),l.success&&l.details&&e.jsxs("div",{className:"ml-6 mt-2 text-xs opacity-80",children:[e.jsxs("div",{children:["üöÄ Deployment: ",l.details.deployment]}),e.jsxs("div",{children:["üîó API Version: ",l.details.api_version]}),e.jsxs("div",{children:["üåê Endpoint: ",l.details.endpoint]})]}),!l.success&&l.statusCode&&e.jsxs("div",{className:"ml-6 text-xs opacity-80",children:["Status Code: ",l.statusCode]})]})}),g&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-md text-sm font-medium ${g.success?`${t.successBg} ${t.successText}`:`${t.errorBg} ${t.errorText}`}`,children:[e.jsx("span",{className:"text-base",children:g.success?"‚úÖ":"‚ùå"}),e.jsx("span",{children:g.message})]})}),$()&&!L&&!l&&!z&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-md text-sm font-medium ${t.errorBg} border-l-4 border-yellow-400`,children:[e.jsx("span",{className:"text-base",children:"‚ö†Ô∏è"}),e.jsx("span",{className:t.errorText,children:"Please test the connection before saving your configuration."})]})})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[J&&e.jsxs("button",{onClick:te,disabled:z||!$(),className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-all duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed ${t.buttonTest}`,children:[e.jsx("span",{className:"mr-2 text-base",children:"üîå"}),z?"Testing...":"Test Connection"]}),e.jsxs("button",{onClick:ee,disabled:v||!$()||!L,className:`flex-1 px-4 py-3 rounded-md text-sm font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${t.buttonPrimary} hover:shadow-md flex items-center justify-center`,children:[e.jsx("span",{className:"mr-2 text-base",children:"üíæ"}),v?"Saving...":"Save Configuration"]})]})]}),U=y?"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm":"flex flex-col h-full min-h-0 overflow-hidden",R=y?`${t.modalBg} rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto`:`${t.containerBg} flex flex-col h-full min-h-0`;return P?e.jsx("div",{className:`${U} ${E}`,children:e.jsx("div",{className:R,children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:`text-lg ${t.subtitleText}`,children:"Loading configuration..."})]})})})}):e.jsx("div",{className:`${U} ${E}`,children:e.jsxs("div",{className:R,children:[e.jsx("div",{className:"px-6 py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`text-2xl mr-3 ${t.iconColor}`,children:"‚öôÔ∏è"}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-xl font-bold ${t.titleText}`,children:F}),e.jsx("p",{className:`text-sm ${t.subtitleText} mt-1`,children:M})]})]}),y&&e.jsx("button",{onClick:D,className:`p-2 rounded-md ${t.buttonSecondary} hover:bg-gray-300 transition-colors duration-200`,children:e.jsx("span",{className:"text-lg",children:"‚úï"})})]})}),e.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:e.jsx("div",{className:"flex-1 flex flex-col px-6 py-4 overflow-y-auto",children:e.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-500 min-h-0 ${W?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:[e.jsx("div",{className:"flex-shrink-0",children:re()}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[ie(),le()]})]})})})]})})};k.propTypes={title:i.string,subtitle:i.string,theme:i.oneOf(["light","dark"]),onConfigChange:i.func,onSave:i.func,showTestConnection:i.bool,className:i.string,initialConfig:i.object,isModal:i.bool,onClose:i.func,apiBaseUrl:i.string,userId:i.oneOfType([i.string,i.number])};k.__docgenInfo={description:"",methods:[],displayName:"Configuration",props:{title:{defaultValue:{value:'"Azure OpenAI Configuration"',computed:!1},description:"",type:{name:"string"},required:!1},subtitle:{defaultValue:{value:'"Configure your Azure OpenAI settings for the GenAI Business Rule Extraction"',computed:!1},description:"",type:{name:"string"},required:!1},theme:{defaultValue:{value:'"light"',computed:!1},description:"",type:{name:"enum",value:[{value:'"light"',computed:!1},{value:'"dark"',computed:!1}]},required:!1},onConfigChange:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onSave:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},showTestConnection:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},className:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},initialConfig:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},isModal:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onClose:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},apiBaseUrl:{defaultValue:{value:'"http://localhost:8000"',computed:!1},description:"",type:{name:"string"},required:!1},userId:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1}}};const me={title:"Components/Configuration",component:k,tags:["autodocs"],parameters:{layout:"fullscreen",docs:{description:{component:`

A comprehensive Azure OpenAI configuration component with user-specific storage, connection testing, and dual-tab interface.

## Features
- ‚úÖ User-specific credential storage with localStorage
- ‚úÖ Default and custom credential tabs
- ‚úÖ Real-time connection testing
- ‚úÖ Theme support (Light & Dark)
- ‚úÖ Modal and inline display modes
- ‚úÖ Form validation and error handling
- ‚úÖ API integration for credential management
- ‚úÖ Secure password masking
- ‚úÖ Loading states and status indicators

## Basic Usage

\`\`\`jsx
// Simple configuration
<Configuration userId="123" />

// With all features
<Configuration 
  title="Azure OpenAI Configuration"
  subtitle="Configure your AI settings"
  theme="light"
  userId="123"
  apiBaseUrl="http://localhost:8000"
  initialConfig={{
    azureKey: "your-key",
    azureEndpoint: "https://your-resource.openai.azure.com",
    azureDeployment: "gpt-4",
    azureApiVersion: "2024-02-15-preview"
  }}
  showTestConnection={true}
  isModal={false}
  onConfigChange={(config) => console.log("Config changed:", config)}
  onSave={(config) => console.log("Config saved:", config)}
/>
\`\`\`

## Storage Architecture

The component uses user-specific localStorage keys:
- \`azure_default_credentials_{userId}\` - Default system credentials
- \`azure_custom_credentials_{userId}\` - User's custom credentials

## API Endpoints

- \`GET /api/config\` - Load current configuration
- \`PUT /api/config\` - Save configuration
- \`POST /api/config/test\` - Test connection

## Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| \`title\` | string | "Azure OpenAI Configuration" | Component title |
| \`subtitle\` | string | "Configure your Azure..." | Component subtitle |
| \`theme\` | string | "light" | Theme: "light" or "dark" |
| \`userId\` | string/number | null | User ID for storage isolation |
| \`apiBaseUrl\` | string | "http://localhost:8000" | API base URL |
| \`initialConfig\` | object | {} | Initial configuration values |
| \`showTestConnection\` | boolean | true | Show connection test button |
| \`isModal\` | boolean | false | Display as modal overlay |
| \`onConfigChange\` | function | () => {} | Config change callback |
| \`onSave\` | function | () => {} | Save success callback |
| \`onClose\` | function | () => {} | Modal close callback |
| \`className\` | string | "" | Additional CSS classes |

## Tab Modes

### Default Tab (üîí)
- Displays masked system credentials
- "Use Default and Continue" button
- Read-only configuration view

### Own Credentials Tab (üîë)
- Editable credential fields
- Connection testing
- Form validation
- Custom credential storage

## Status Indicators

- ‚úÖ **Success**: Green background with checkmark
- ‚ùå **Error**: Red background with X mark  
- ‚ö†Ô∏è **Warning**: Yellow border with warning icon
- üîå **Testing**: Loading spinner during connection test

## Error Handling

The component handles various error types:
- Authentication errors
- Network timeouts
- Deployment not found
- Rate limit exceeded
- Invalid endpoints
        `}}},argTypes:{title:{control:"text",description:"Main title of the configuration component"},subtitle:{control:"text",description:"Descriptive subtitle text"},theme:{control:{type:"select"},options:["light","dark"],description:"Visual theme of the component"},userId:{control:"text",description:"User ID for storage isolation (string or number)"},apiBaseUrl:{control:"text",description:"Base URL for API endpoints"},initialConfig:{control:"object",description:"Initial configuration values"},showTestConnection:{control:"boolean",description:"Show connection test functionality"},isModal:{control:"boolean",description:"Display as modal overlay"},className:{control:"text",description:"Additional CSS classes"},onConfigChange:{action:"config-changed",description:"Callback when configuration changes"},onSave:{action:"config-saved",description:"Callback when configuration is saved"},onClose:{action:"modal-closed",description:"Callback when modal is closed"}}},w={args:{title:"Azure OpenAI Configuration",subtitle:"Configure your Azure OpenAI settings for the GenAI Business Rule Extraction",theme:"light",userId:"demo-user-123",apiBaseUrl:"http://localhost:8000",initialConfig:{azureKey:"demo-key-12345",azureEndpoint:"https://demo-resource.openai.azure.com",azureDeployment:"gpt-4",azureApiVersion:"2024-02-15-preview"},showTestConnection:!0,isModal:!1,className:""},parameters:{docs:{story:{inline:!0,height:"480px"}}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  args: {
    title: "Azure OpenAI Configuration",
    subtitle: "Configure your Azure OpenAI settings for the GenAI Business Rule Extraction",
    theme: "light",
    userId: "demo-user-123",
    apiBaseUrl: "http://localhost:8000",
    initialConfig: {
      azureKey: "demo-key-12345",
      azureEndpoint: "https://demo-resource.openai.azure.com",
      azureDeployment: "gpt-4",
      azureApiVersion: "2024-02-15-preview"
    },
    showTestConnection: true,
    isModal: false,
    className: ""
  },
  parameters: {
    docs: {
      story: {
        inline: true,
        height: "480px"
      }
    }
  }
}`,...w.parameters?.docs?.source}}};const ge=["Default"];export{w as Default,ge as __namedExportsOrder,me as default};
