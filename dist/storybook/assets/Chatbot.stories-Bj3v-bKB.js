import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./iframe-CVV_m-99.js";import{P as i}from"./index-Ceb0_L1H.js";import"./preload-helper-D9Z9MdNV.js";const L=({theme:F="light",botName:p="AI Assistant",botIcon:X=null,greeting:B="Hi, how can I help you today?",suggestedPrompts:_=["What services do you offer?","How can I get started?","Tell me about your pricing","Contact support"],onSendMessage:$=()=>{},onClearChat:J=()=>{},onPromptClick:Q=()=>{},onDocumentLinkClick:G=()=>{},className:V="",isOpen:x=!1,onToggle:N=()=>{},position:Z="bottom-right",enableVoice:u=!0,userName:A="You"})=>{const[b,c]=r.useState([]),[m,v]=r.useState(""),[ee,C]=r.useState(!1),[k,T]=r.useState(!1),[E,M]=r.useState(!1),[y,P]=r.useState(!1),[te,H]=r.useState(!0),[se,S]=r.useState(!1),[g,q]=r.useState({width:384,height:500}),O=r.useRef(null),W=r.useRef(null),d=r.useRef(null),f=r.useRef(null),Y={light:{bg:"bg-white",border:"border-gray-200",shadow:"shadow-xl",headerBg:"bg-gradient-to-r from-blue-600 to-blue-700",headerText:"text-white",userMessageBg:"bg-blue-600",userMessageText:"text-white",botMessageBg:"bg-gray-100",botMessageText:"text-gray-800",inputBg:"bg-gray-50",inputBorder:"border-gray-300 focus:border-blue-500",inputText:"text-gray-900 placeholder-gray-500",sendButton:"bg-blue-600 hover:bg-blue-700 text-white",voiceButton:"bg-gray-200 hover:bg-gray-300 text-gray-700",voiceActiveButton:"bg-red-500 hover:bg-red-600 text-white",promptBg:"bg-blue-50 hover:bg-blue-100 border-blue-200",promptText:"text-blue-700",senderNameText:"text-gray-800",timestampText:"text-gray-600",linkText:"text-blue-600 hover:text-blue-800",typingText:"text-gray-700",toggleButton:"bg-blue-600 hover:bg-blue-700 text-white"},dark:{bg:"bg-gray-800",border:"border-gray-600",shadow:"shadow-2xl",headerBg:"bg-gradient-to-r from-blue-500 to-blue-600",headerText:"text-white",userMessageBg:"bg-blue-500",userMessageText:"text-white",botMessageBg:"bg-gray-700",botMessageText:"text-gray-100",inputBg:"bg-gray-700",inputBorder:"border-gray-600 focus:border-blue-400",inputText:"text-white placeholder-gray-400",sendButton:"bg-blue-500 hover:bg-blue-600 text-white",voiceButton:"bg-gray-600 hover:bg-gray-500 text-gray-200",voiceActiveButton:"bg-red-500 hover:bg-red-600 text-white",promptBg:"bg-blue-900/30 hover:bg-blue-800/40 border-blue-500/30",promptText:"text-blue-300",senderNameText:"text-gray-100",timestampText:"text-gray-300",linkText:"text-blue-400 hover:text-blue-300",typingText:"text-gray-200",toggleButton:"bg-blue-500 hover:bg-blue-600 text-white"}},n=Y[F]||Y.light;r.useEffect(()=>{b.length===0&&(H(!0),setTimeout(()=>{const t={id:Date.now(),text:B,sender:"bot",senderName:p,timestamp:new Date,showSuggestions:!0};c([t]),H(!1)},500))},[B,p,b.length]),r.useEffect(()=>{O.current?.scrollIntoView({behavior:"smooth"})},[b]),r.useEffect(()=>(u&&"webkitSpeechRecognition"in window&&(d.current=new window.webkitSpeechRecognition,d.current.continuous=!1,d.current.interimResults=!1,d.current.lang="en-US",d.current.onresult=t=>{const s=t.results[0][0].transcript;v(s),T(!1)},d.current.onerror=()=>{T(!1)},d.current.onend=()=>{T(!1)}),u&&"speechSynthesis"in window&&(f.current=window.speechSynthesis),()=>{d.current&&d.current.stop(),f.current&&f.current.cancel()}),[u]);const ne=t=>t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),ae=()=>e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center shadow-md",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),K=async()=>{if(!m.trim()||y)return;const t=m,s={id:Date.now(),text:t,sender:"user",senderName:A,timestamp:new Date,status:"sending"};c(a=>[...a,s]),v(""),P(!0),C(!0);try{await $(t,s),c(a=>a.map(o=>o.id===s.id?{...o,status:"delivered"}:o))}catch(a){console.error("Error sending message:",a),c(o=>o.map(l=>l.id===s.id?{...l,status:"failed"}:l))}finally{P(!1)}setTimeout(()=>{const a={id:Date.now()+1,text:`Thank you for your message: "${t}". This is a sample response.`,sender:"bot",senderName:p,timestamp:new Date};c(o=>[...o,a]),C(!1)},1500)},oe=async t=>{const s=b.find(a=>a.id===t);if(s){c(a=>a.map(o=>o.id===t?{...o,status:"sending"}:o));try{await $(s.text,s),c(a=>a.map(o=>o.id===t?{...o,status:"delivered"}:o))}catch(a){console.error("Error retrying message:",a),c(o=>o.map(l=>l.id===t?{...l,status:"failed"}:l))}}},re=async t=>{v(t),Q(t);const s={id:Date.now(),text:t,sender:"user",senderName:A,timestamp:new Date};c(a=>[...a,s]),v(""),C(!0);try{await $(t,s)}catch(a){console.error("Error sending message:",a)}setTimeout(()=>{const a={id:Date.now()+1,text:`Thank you for your message: "${t}". This is a sample response. You can customize this by implementing your own bot logic.`,sender:"bot",senderName:p,timestamp:new Date};c(o=>[...o,a]),C(!1)},1500)},ie=t=>{t.preventDefault(),S(!0);const s=t.clientX,a=t.clientY,o=g.width,l=g.height,h=j=>{const D=Math.max(320,Math.min(600,o+(j.clientX-s))),I=Math.max(400,Math.min(700,l+(j.clientY-a)));q({width:D,height:I})},w=()=>{S(!1),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",w)},le=t=>{t.preventDefault(),S(!0);const s=t.clientX,a=t.clientY,o=g.width,l=g.height,h=j=>{const D=Math.max(320,Math.min(600,o-(j.clientX-s))),I=Math.max(400,Math.min(700,l-(j.clientY-a)));q({width:D,height:I})},w=()=>{S(!1),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",w)},z=()=>{c([]),J(),setTimeout(()=>{const t={id:Date.now(),text:B,sender:"bot",senderName:p,timestamp:new Date,showSuggestions:!0};c([t])},100)};r.useEffect(()=>{u&&(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)&&console.warn("Speech recognition not supported in this browser"),"speechSynthesis"in window||console.warn("Speech synthesis not supported in this browser"))},[u]),r.useEffect(()=>{const t=s=>{s.key==="Escape"&&x&&N(),(s.ctrlKey||s.metaKey)&&s.key==="k"&&x&&(s.preventDefault(),W.current?.focus()),(s.ctrlKey||s.metaKey)&&s.key==="l"&&x&&(s.preventDefault(),z())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[x,N,z]);const ce=()=>{!u||!d.current||(k?d.current.stop():(T(!0),d.current.start()))},de=t=>{if(!(!u||!f.current))if(E)f.current.cancel(),M(!1);else{const s=new SpeechSynthesisUtterance(t);s.onstart=()=>M(!0),s.onend=()=>M(!1),s.onerror=()=>M(!1),f.current.speak(s)}},ue=t=>{const s=/(https?:\/\/[^\s]+)/g;return t.split(s).map((o,l)=>s.test(o)?e.jsx("a",{href:o,onClick:h=>{h.preventDefault(),G(o)},className:`${n.linkText} underline cursor-pointer`,children:o},l):o)},U=(t=>{const s={"bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-right":"top-4 right-4","top-left":"top-4 left-4"};return s[t]?s[t]:t})(Z);return x?e.jsx("div",{className:`fixed ${U} z-50 ${V}`,children:e.jsxs("div",{className:`${n.bg} ${n.border} ${n.shadow} border rounded-lg flex flex-col overflow-hidden relative ${se?"select-none":""}`,style:{width:`${g.width}px`,height:`${g.height}px`,minWidth:"320px",minHeight:"400px",maxWidth:"600px",maxHeight:"700px"},children:[e.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 cursor-nw-resize opacity-60 hover:opacity-100 transition-opacity duration-200 z-10",onMouseDown:le,title:"Drag to resize",children:e.jsx("div",{className:"w-full h-full flex items-start justify-start p-1",children:e.jsx("div",{className:"w-0 h-0 border-r-4 border-t-4 border-r-transparent border-t-gray-400"})})}),e.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-se-resize opacity-60 hover:opacity-100 transition-opacity duration-200 z-10",onMouseDown:ie,title:"Drag to resize",children:e.jsx("div",{className:"w-full h-full flex items-end justify-end p-1",children:e.jsx("div",{className:"w-0 h-0 border-l-4 border-b-4 border-l-transparent border-b-gray-400"})})}),e.jsxs("div",{className:`${n.headerBg} ${n.headerText} p-4 flex items-center justify-between`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[X||e.jsx(ae,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:p}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("p",{className:"text-xs opacity-90",children:"Online"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:z,className:"text-white/80 hover:text-white hover:bg-white/10 p-2 rounded transition-colors duration-200",title:"Clear Chat (Ctrl+L)",children:e.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z",clipRule:"evenodd"}),e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414L7.586 12l-1.293 1.293a1 1 0 101.414 1.414L9 13.414l2.293 2.293a1 1 0 001.414-1.414L11.414 12l1.293-1.293z",clipRule:"evenodd"})]})}),e.jsx("button",{onClick:N,className:"text-white/80 hover:text-white hover:bg-red-500/20 p-2 rounded transition-colors duration-200",title:"Close",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 chatbot-messages",children:[te?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-sm",children:"Initializing chat..."})]})}):e.jsx(e.Fragment,{children:b.map(t=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`flex ${t.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[280px] px-4 py-3 rounded-lg transition-all duration-200 hover:shadow-md ${t.sender==="user"?`${n.userMessageBg} ${n.userMessageText} ml-auto`:`${n.botMessageBg} ${n.botMessageText} hover:bg-opacity-80`} ${t.status==="sending"?"opacity-70 scale-95":t.status==="failed"?"opacity-60":"opacity-100 scale-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`text-xs font-semibold ${t.sender==="user"?"text-white/90":n.senderNameText}`,children:t.senderName}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs opacity-50"}),e.jsx("span",{className:`text-xs font-medium ${t.sender==="user"?"text-white/75":n.timestampText}`,children:ne(t.timestamp)})]})]}),e.jsx("div",{className:"text-sm leading-relaxed",children:ue(t.text)}),t.sender==="user"&&e.jsxs("div",{className:"flex justify-end mt-1",children:[t.status==="sending"&&e.jsxs("div",{className:"flex items-center space-x-1 text-white/60",children:[e.jsx("div",{className:"w-2 h-2 bg-white/60 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs",children:"Sending..."})]}),t.status==="delivered"&&e.jsx("svg",{className:"w-3 h-3 text-white/80",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),t.status==="failed"&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-300",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("button",{onClick:()=>oe(t.id),className:"text-xs hover:underline",title:"Retry message",children:"Retry"})]})]}),t.sender==="bot"&&u&&e.jsx("div",{className:"flex items-center justify-between mt-2",children:e.jsxs("button",{onClick:()=>de(t.text),className:`text-xs ${n.linkText} hover:underline flex items-center space-x-1`,children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.824L4.216 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.216l4.167-3.824a1 1 0 011.617.824zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})}),e.jsx("span",{children:E?"Stop":"Listen"})]})})]})}),t.showSuggestions&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 ml-2 animate-fadeIn",children:[e.jsx("div",{className:"w-full mb-1",children:e.jsx("span",{className:`text-xs font-medium ${n.timestampText} opacity-75`,children:"Quick replies:"})}),_.map((s,a)=>e.jsx("button",{onClick:()=>re(s),className:`${n.promptBg} ${n.promptText} border px-3 py-2 rounded-full text-xs hover:shadow-md hover:scale-105 transition-all duration-200 transform hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-opacity-50`,style:{animationDelay:`${a*100}ms`,animation:"slideInUp 0.3s ease-out forwards"},children:e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:s}),e.jsx("svg",{className:"w-3 h-3 opacity-60",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})},a))]})]},t.id))}),ee&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:`${n.botMessageBg} px-4 py-3 rounded-lg max-w-xs`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-xs ${n.typingText}`,children:[p," is typing"]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:`w-2 h-2 ${n.typingText.replace("text-","bg-")} rounded-full animate-bounce`}),e.jsx("div",{className:`w-2 h-2 ${n.typingText.replace("text-","bg-")} rounded-full animate-bounce`,style:{animationDelay:"0.1s"}}),e.jsx("div",{className:`w-2 h-2 ${n.typingText.replace("text-","bg-")} rounded-full animate-bounce`,style:{animationDelay:"0.2s"}})]})]})})}),e.jsx("div",{ref:O})]}),e.jsxs("div",{className:`${n.inputBg} p-4 border-t ${n.border}`,children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{ref:W,type:"text",value:m,onChange:t=>{const s=t.target.value;s.length<=1e3&&v(s)},onKeyPress:t=>t.key==="Enter"&&K(),placeholder:`Message ${p}... (Press Enter to send)`,className:`w-full px-4 py-3 ${u?"pr-12":"pr-4"} border ${n.inputBorder} ${n.inputText} ${n.inputBg} rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 text-sm transition-all duration-200`,disabled:y}),u&&e.jsx("button",{onClick:ce,className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-1.5 rounded-full ${k?n.voiceActiveButton:n.voiceButton} transition-all duration-200 hover:scale-105`,title:k?"Stop listening":"Voice input",disabled:y,children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})})]}),e.jsx("button",{onClick:K,disabled:!m.trim()||y,className:`${n.sendButton} px-4 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center`,children:y?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-xs",children:[e.jsx("div",{className:"flex items-center space-x-2",children:k&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-500",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Listening..."})]})}),e.jsxs("span",{className:`${n.timestampText} ${m.length>900?"text-red-500":""}`,children:[m.length,"/1000"]})]})]})]})}):e.jsx("div",{className:`fixed ${U} z-50 ${V}`,children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:N,className:`${n.toggleButton} p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 hover:shadow-xl group`,children:e.jsx("svg",{className:"w-6 h-6 transition-transform duration-300 group-hover:rotate-12",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse border-2 border-white"}),e.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:[e.jsxs("div",{className:"bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:["Chat with ",p]}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-800"})]})]})})};L.propTypes={theme:i.oneOf(["light","dark"]),botName:i.string,botIcon:i.node,greeting:i.string,suggestedPrompts:i.arrayOf(i.string),onSendMessage:i.func,onClearChat:i.func,onPromptClick:i.func,onDocumentLinkClick:i.func,className:i.string,isOpen:i.bool,onToggle:i.func,position:i.oneOfType([i.oneOf(["bottom-right","bottom-left","top-right","top-left"]),i.string]),enableVoice:i.bool,userName:i.string};L.__docgenInfo={description:"",methods:[],displayName:"Chatbot",props:{theme:{defaultValue:{value:'"light"',computed:!1},description:"",type:{name:"enum",value:[{value:'"light"',computed:!1},{value:'"dark"',computed:!1}]},required:!1},botName:{defaultValue:{value:'"AI Assistant"',computed:!1},description:"",type:{name:"string"},required:!1},botIcon:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"node"},required:!1},greeting:{defaultValue:{value:'"Hi, how can I help you today?"',computed:!1},description:"",type:{name:"string"},required:!1},suggestedPrompts:{defaultValue:{value:`[\r
  "What services do you offer?",\r
  "How can I get started?",\r
  "Tell me about your pricing",\r
  "Contact support",\r
]`,computed:!1},description:"",type:{name:"arrayOf",value:{name:"string"}},required:!1},onSendMessage:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onClearChat:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onPromptClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},onDocumentLinkClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},className:{defaultValue:{value:'""',computed:!1},description:"",type:{name:"string"},required:!1},isOpen:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},onToggle:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},position:{defaultValue:{value:'"bottom-right"',computed:!1},description:"",type:{name:"union",value:[{name:"enum",value:[{value:'"bottom-right"',computed:!1},{value:'"bottom-left"',computed:!1},{value:'"top-right"',computed:!1},{value:'"top-left"',computed:!1}]},{name:"string"}]},required:!1},enableVoice:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},userName:{defaultValue:{value:'"You"',computed:!1},description:"",type:{name:"string"},required:!1}}};const xe={title:"Components/Chatbot",component:L,tags:["autodocs"],parameters:{layout:"padded",docs:{description:{component:`
A modern, feature-rich chatbot component with voice support, theming, resizable interface, and comprehensive messaging capabilities.

## Features
- ✅ **Voice Integration**: Speech-to-text input and text-to-speech output
- ✅ **Resizable Interface**: Drag to resize from corners with size constraints
- ✅ **Theme Support**: Light and Dark themes with consistent styling
- ✅ **Message Status**: Real-time message delivery status with retry functionality
- ✅ **Suggested Prompts**: Interactive quick-reply buttons for better UX
- ✅ **Typing Indicators**: Visual feedback when bot is responding
- ✅ **Keyboard Shortcuts**: Escape to close, Ctrl+K to focus, Ctrl+L to clear
- ✅ **Link Parsing**: Automatic URL detection and custom link handling
- ✅ **Position Flexibility**: Multiple positioning options or custom positioning
- ✅ **Message Retry**: Failed message retry functionality
- ✅ **Responsive Design**: Adapts to different screen sizes

## Basic Usage

\`\`\`jsx
<Chatbot 
  isOpen={true}
  botName="AI Assistant"
  greeting="Hello! How can I help you today?"
  theme="light"
  enableVoice={true}
  position="bottom-right"
  onSendMessage={(message) => console.log('Message sent:', message)}
  onToggle={() => console.log('Chatbot toggled')}
/>
\`\`\`

## Advanced Usage

\`\`\`jsx
<Chatbot 
  isOpen={true}
  botName="Customer Support"
  userName="John Doe"
  greeting="Welcome to our support center!"
  theme="dark"
  enableVoice={true}
  position="bottom-left"
  suggestedPrompts={[
    "Track my order",
    "Return policy", 
    "Technical support",
    "Billing questions"
  ]}
  onSendMessage={async (message) => {
    // Custom message handling
    const response = await sendToAPI(message);
    return response;
  }}
  onPromptClick={(prompt) => console.log('Prompt clicked:', prompt)}
  onDocumentLinkClick={(url) => window.open(url, '_blank')}
  onClearChat={() => console.log('Chat cleared')}
  onToggle={() => setIsOpen(!isOpen)}
/>
\`\`\`

## Voice Features

The chatbot includes advanced voice capabilities:
- **Speech Recognition**: Click the microphone to speak your message
- **Text-to-Speech**: Click "Listen" on bot messages to hear responses
- **Visual Feedback**: Recording indicator and speaking status

## Keyboard Shortcuts

- **Ctrl/Cmd + K**: Focus input field
- **Ctrl/Cmd + L**: Clear chat history
- **Enter**: Send message

## Positioning Options

Predefined positions:
- \`bottom-right\` (default)
- \`bottom-left\`
- \`top-right\`
- \`top-left\`

Custom positioning with CSS classes:
\`\`\`jsx
position="top-4 left-1/2 transform -translate-x-1/2"
\`\`\`

## Message Status Indicators

- **Sending**: Animated pulse while message is being sent
- **Delivered**: Checkmark when message is successfully sent
- **Failed**: Error icon with retry button for failed messages

## Theming

Built-in themes with comprehensive styling:
- **Light Theme**: Clean, professional appearance
- **Dark Theme**: Modern dark interface with blue accents
        `}}},argTypes:{theme:{control:{type:"select"},options:["light","dark"],description:"Visual theme of the chatbot interface"},botName:{control:"text",description:"Name of the bot displayed in header and messages"},userName:{control:"text",description:"Name of the user displayed in messages"},greeting:{control:"text",description:"Initial greeting message from the bot"},isOpen:{control:"boolean",description:"Controls whether the chatbot is open or minimized"},enableVoice:{control:"boolean",description:"Enable voice input and text-to-speech features"},position:{control:{type:"select"},options:["bottom-right","bottom-left","top-right","top-left"],description:"Position of the chatbot on screen"},suggestedPrompts:{control:"object",description:"Array of suggested quick-reply prompts"},botIcon:{control:"text",description:"Custom bot icon (JSX element or null for default)"},className:{control:"text",description:"Additional CSS classes to apply"},onSendMessage:{action:"message-sent",description:"Callback when user sends a message"},onToggle:{action:"chatbot-toggled",description:"Callback when chatbot is opened/closed"},onClearChat:{action:"chat-cleared",description:"Callback when chat is cleared"},onPromptClick:{action:"prompt-clicked",description:"Callback when suggested prompt is clicked"},onDocumentLinkClick:{action:"link-clicked",description:"Callback when a link in message is clicked"}}},R={args:{theme:"light",botName:"AI Assistant",userName:"You",greeting:"Hi there! 👋 I'm your AI assistant. How can I help you today?",isOpen:!0,enableVoice:!0,position:"bottom-right",suggestedPrompts:["What services do you offer?","How can I get started?","Tell me about your pricing","Contact support","Technical documentation"],botIcon:null,className:""},parameters:{docs:{story:{inline:!0,height:"520px"},description:{story:"Default chatbot configuration with all features enabled. Try interacting with the suggested prompts, typing messages, and using voice features if supported by your browser."}}}};R.parameters={...R.parameters,docs:{...R.parameters?.docs,source:{originalSource:`{
  args: {
    theme: "light",
    botName: "AI Assistant",
    userName: "You",
    greeting: "Hi there! 👋 I'm your AI assistant. How can I help you today?",
    isOpen: true,
    enableVoice: true,
    position: "bottom-right",
    suggestedPrompts: ["What services do you offer?", "How can I get started?", "Tell me about your pricing", "Contact support", "Technical documentation"],
    botIcon: null,
    className: ""
  },
  parameters: {
    docs: {
      story: {
        inline: true,
        height: "520px"
      },
      description: {
        story: "Default chatbot configuration with all features enabled. Try interacting with the suggested prompts, typing messages, and using voice features if supported by your browser."
      }
    }
  }
}`,...R.parameters?.docs?.source}}};const be=["Default"];export{R as Default,be as __namedExportsOrder,xe as default};
